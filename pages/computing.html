<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
<head>
   <title>Hao Wu, assistant professor @ Emory Biostat</title>
   <link rel="stylesheet" type="text/css" 
	href="hwu_main.css">
   <meta name="description" content="Home page of Hao Wu, 
   assistant professor of Biostatistics and Bioinformatics at  Emory University">
   <meta name="keywords" content="statistics, biostatistics, biometrics,
   bioinformatics, informatics, genomics, genetics, statistical genetics,
   human genetics,genetic epidemiology, QTL, jqtl, pseudomarker,
   quantitative trait loci, 
   QTLs, complex traits, quantitative trait locus, genetic map,
   recombination, crossover interference, linkage, genotyping error,
   human, meiosis, gene mapping,  
   microarray, maanova, microarray analysis of variance, jmaanova,
   second generation sequencing, chip-chip, tiling array, data integration">
</head>


<!-- Site navigation menu -->
<ul class="navbar">
  <li><a href="index.html">Home</a>
  <li><a href="bio.html">Short Bio</a>
  <li><a href="wu-cv-current.pdf">CV [pdf]</a>
  <li><a href="research.html">Research</a>
  <li><a href="publications.html">Publications</a>
  <li><a href="software.html">Software</a>
  <li><a href="computing.html">Computing tips</a>
  <li><a href="links.html">My Links</a>
</ul>


<body>
<h2>Some useful computing tips</h2><p>
The main purpose of this page is to provide some useful computing tips
for BIOS students and faculty members. 
Some of them are about using the SPH and emory (aka ellipse) computer clusters.
The information provided here will be supplmentary to those at 
<a href="http://www.sph.emory.edu/cms/about/information_technology/environment/index.html">
RSPH computing environment page</a>.
For corrections or suggestions regarding this document 
please email Hao Wu at hao . wu @ emory . edu.
<p>
<span style="color:darkred"><b>NOTE: the BIG (Bioinformatics Interest Group)
  has created a wiki page [<a href="http://big-at-emory.wikispaces.com/", target="_blank">link here</a>]
with more information regarding these topics.
Please refer to that page for more useful computing tips. </b>
</span>

<p>
<li><a href="#webpage">Setting up an Emory personal webpage at userwww</a></li>
<li><a href="#Xwindows">Logging into computer clusters and X window systems</a></li>
<li><a href="#ssh">Password-less logins using SSH</a></li>
<li><a href="#linux">Basic Linux commands</a></li>
<!-- <li><a href="#R">Introduction to R and BioConductor</li></a>
<li><a href="#Rlib">Setting up a personal R package library on cluster</li></a>
<li><a href="#ess">Using emacs with ESS</a></li>
<li><a href="#latex">Introduction to LaTex/Beamer/Sweave</li></a>
<li><a href="#RC">Write and debug C codes in R</li></a> -->

<hr>
<a name="webpage"><h3>Setting up an Emory personal webpage at userwww</h3></a>
Having a personal research webpage is very important nowadays 
in order to get exposures in the field, especially for students 
in the job market looking for academic positions. 
At the minimal level a copy of CV with a list of the latest publications 
should be provided. 

Setting up a personal Emory webpage is pretty simple, as long as you have 
an Emory <a href="http://it.emory.edu/showdoc.cfm?docid=1079">Network ID</a>.
To start following these steps:
<ol>
<li>Enter the URL of your personal Emory webspace into your web browser. 
The URL looks like <tt>https://webdrive.service.emory.edu/users/networkID/</tt>,
where "networkID" is your Emory NetworkID. 
<li>Click the "folders" link at the top of the page.
<li>In the "Create Folder" box, type "www", then click "create".
All the contents of your webpage need to be stored in the <tt>www</tt> directory. 
<li>Now make HTML pages using your favorite software. 
Most of the word processing software can create HTML in these days.
If you want to have more control or fancy pages (which I donot recommend), 
you can write your own HTML using a text editor. 
There are tons of free css (Cascading Style Sheets)
templates online (google "free css template") you can borrow. 
Note that I tried and the system supports PHP, so basic dynamic 
pages can be created.
<li>After creating the webpage, upload 
all the HTML, images and other necessary files to the <tt>www</tt>
folder you just created. Note that as far as I know 
you can only upload one file at a time. 
<li>That's it! You now can view your homepage at 
<tt>http://userwww.service.emory.edu/~networkID</tt>.
</ol>

<hr>
<a name="Xwindows"><h3>Logging into clusters and X window systems</h3></a>
If you are using a Mac or Linux, open a terminal and type 
<ul>"<tt>ssh -X userid@cluster.sph.emory.edu</tt>"</ul>
The first time there will be a message about authetication of the host,
just type "yes" and hit return. You then will be prompt for password.
Enter the password and you will be in.
<p>
If you are using Windows it's a little more complicated because Windows
itself doesn't provide ssh client software. 
There are several free SSH software. 
The most popular one seems to be openSSH, which can be download from 
<a href="">here</a>.
<p>
On a Windows computer you will need a <a href="http://en.wikipedia.org/wiki/X_Window_System">
X window system</a> in order to open displays from cluster, 
such as plot something from R or Matlab.
The most popular one is <a href="http://www.straightrunning.com/XmingNotes/">
Xming</a>.
<p>

<hr>
<a name="ssh"><h3>Password-less logins using SSH</h3></a>
It's annoying that one have to type in password every time s/he login 
or scp to/from the cluster. Fortunately there is a solution. 
Follow the steps to setup a password-less login.<p> 
<b>On Mac/Linux</b>: 
<ol>
<li>Create Public/Private Keys. First check whether you have 
<tt>id_dsa</tt> and <tt>id_dsa.pub</tt> at <tt>.ssh</tt> folder. 
If there are skip this step. Otherwise, type "<tt>ssh-keygen -t dsa</tt>" 
in the terminal and those files will be generated. 
<li>Set up logins. First copy your public key (id_dsa.pub) to remote host 
by doing:
<ul><tt>scp .ssh/id_dsa.pub userid@cluster.sph.emory.edu:~</tt></ul>
Now login to the cluster and cd to the <tt>.ssh</tt> directory. 
Add the public key from your computer to the end of your
<tt>authorized_keys</tt> file and set the correct permissions
by typing the following commands at the terminal:
<ul><tt>cat ../id_dsa.pub >> authorized_keys<br>
chmod 600 authorized_keys</tt></ul>
</ol>
<p>

<b>On Windows</b>:


<p>

<hr>
<a name="linux"><h3>Basic Linux commands</h3></a>
Using the computer clusters involves being familiar with basic Linux commmands. 
Both the <a href="http://www.sph.emory.edu/cms/about/information_technology/environment/index.html">
RSPH cluster</a> and the bigger <a href="http://it.emory.edu/showdoc.cfm?docid=8869&fr=1863">
Emory cluster</a> (a.k.a. ELLIPSE) run Red Hat Enterprise Linux. 
<p>
After logging into your cluster account, you are facing a 
<a href="http://en.wikipedia.org/wiki/Unix_shell">Linux shell</a>, 
which takes commands and performs certain tasks. 
If you have been used to a graphical point-click interface this might seem daunting.
However once you get familiar with the commands you'll find it
extremely powerful and convenient. Anyway I think there are only 
20 or so important commands one needs to know in order to perform
most of the tasks. Here is a list of them with VERY brief explanations.
Each of these commands takes tons of options, but only
a few of them are frequently used. For more detailed 
explanations please refer to the manual pages. 
<ol>

<li><b><tt>man</tt></b>: to get help for a command. This is short for "<tt>manual</tt>".
For example to get the complete help page for "<tt>ls</tt>" command, type
"<tt>man ls</tt>" at the command line. 

<li><b><tt>ls</tt></b>: get a list of the directory contents. This is the synonym of DOS's "<tt>dir</tt>"
commands. Most common option is "<tt>-l</tt>", which list the contents in long format 
(one line per item showing file modes, owner, time accessed, size, etc). 
Other options I often use are "<tt>ls -rtl</tt>", which list files in 
long format and sorted by time 
with the latest file at the bottom, and "<tt>ls -rSl</tt>", 
which list files in long format and sorted by size with the largest file at the bottom. 

<li><b><tt>cp</tt></b>: copy files. Typical usage is 
<ul><tt>cp source_dir/source_file target_dir/target_file</tt></ul>
An frequently used option is "<tt>-r</tt>", which copies 
directories. For example 
"<tt>cp -r * target_dir/</tt>" copies all contents including 
sub directories into folder named <tt>target_dir</tt>.


<li><b><tt>scp</tt></b>: secure copy files from/to a remote file system (such as the cluster).
For example, <br>
<ul><tt>scp source_file hwu30@cluster.sph.emory.edu:~/</tt><br></ul>
copies <tt>source_file</tt> to the home directory of user <tt>hwu30</tt> at 
<tt>cluster.sph.emory.edu</tt>. Conversely, 
<ul><tt>scp -r hwu30@cluster.sph.emory.edu:~/* target_dir</tt> </ul>
copies everything in <tt>hwu30</tt>'s home directory at 
<tt>cluster.sph.emory.edu</tt> to local directory <tt>target_dir</tt>.
Note that <tt>scp</tt> and <tt>cp</tt> share many parameters.

<li><b><tt>mv</tt></b>: move/rename files. 
Typical usage is 
<ul><tt>mv source_dir/source_file target_dir/target_file</tt></ul>
Differences between cp and mv are (1) after "<tt>mv</tt>" the source file will 
be deleted, and (2) time stamp for the source file will be perserved 
in the target file.

<li><b><tt>rm</tt></b>: remove (delete) files. <tt>rm target_dir/target_file</tt>.
This should be used in caution because usually one cannot undelete a file or folder
once they are rm'ed. Frequently used option is "<tt>-r</tt>" for removing a directory. 

<li><b><tt>mkdir/rmdir</tt></b>: make/remove directories. For example 
<tt>mkdir dir1</tt> makes a subdirectory called "dir1" in current directory.
<tt>rmdir</tt> can only delete an empty directory. 
To delete a directory with contents use "<tt>rm -r</tt>".

<li><b><tt>cd</tt></b>: change directory. For example: <tt>cd dir1/subdir2/subsubdir3/</tt>.

<li><b><tt>pwd</tt></b>: shows the path of current directory.

<li><b><tt>more/less</tt></b>: to view a text file. This is extremely useful in viewing
large text files for that they don't open and load the whole file into memory,
which makes it very fast. <tt>more</tt> and <tt>less</tt> are pretty similar, 
you can pick one your like. Within the program some useful commands are:
<ul>
<li>space: go one page down.
<li><tt>b</tt>: go one page up.
<li><tt>/pattern</tt>: search for <tt>pattern</tt> in the text file.
<li><tt>q</tt>: quit to the shell.
</ul>

<li><b><tt>head/tail</tt></b>: to show the start or end a few lines of a text file. 
For example "<tt>head -5 file.txt</tt>" shows the first 5 lines of file.txt.

<li><b><tt>wc</tt></b>: counting number of words and lines of a file. 
For example if "<tt>wc file.txt</tt>" returns 
<ul><tt>25700  777244 8974608 file.txt</tt></ul>
It means file.txt has 25700 lines, 777244 words and 8974608 bytes.

<li><b><tt>zip/unzip</tt></b>: To compress/expand files. 
Typical usage is 
<ul><tt>zip target.zip *.txt</tt>,</ul> 
which compresses all txt files into one zip file called <tt>target.zip</tt>.
To extract them type <tt>unzip target.zip</tt>.

<li><b><tt>gzip/gunzip</tt></b>: To compress/expand files. 
gzip can only compress one file at a time, that's why 
it's always used with <tt>tar</tt>, which concatenate multiple files 
into one (without compressing). For example, 
<tt>gzip file.txt</tt> generates <tt>file.txt.gz</tt> and deletes 
the original <tt>file.txt</tt>. To decompress, simply
type <tt>gunzip file.txt.gz</tt>. 

<li><b><tt>tar</tt></b>: manipulate tar balls (one big file contains many little files).
There's no compulsive reason of creating a <tt>tar</tt> if one can use <tt>zip</tt>
in these days. However very often the Linux based software are distributed as .tar.gz
files, which is a gzipped tar ball. It's useful to know how to extract the whole thing,
which is <tt>tar xvfz software.tar.gz</tt>. 

<li><b><tt>du</tt></b>: display disk usage. For example 
"<tt>du -h</tt>" shows total disk usage in current directory. 
If there are many subdirectories it will print out a long list 
of usages. In this case "<tt>du --max-depth=1 -h</tt>"
is useful, which only shows one level down of the subdirectories.

<li><b><tt>grep</tt></b>: look for pattern matching from files. 
"<tt>grep apattern *.txt</tt>" searches for all txt files in current directory
and show the lines containing "apattern". 
"<tt>grep</tt>" is a complicated command taking tons of options. 
"<tt>grep</tt>" is a  very powerful command (100 times better than the little dog in Windows!)
if you know how to use it. For example:
<tt>grep -r --include="*.R" apattern *</tt> recursively searches all R files 
under current directory (including all subdirectories) looking for lines with "apattern". 
The search pattern takes 
<a href="http://en.wikipedia.org/wiki/Regular_expression">
regular expression</a>.
</ol>

More useful tips:
<ul>
<li>Press "TAB" key to complete the name of a command, a file or a directory when typing. 
For example is there is a file called "reallylongfilename.txt". You can type in "really"
(or the first a few letters) then press TAB, and the file name will be completed automatically.
<li>Press up/down arrow one can find previously typed commands in terminal.
<li>By default the terminal takes Emacs hotkeys: Ctrl-A moves the cursor  to the beginning of line, 
Ctrl-E moves to the end of the line, Ctrl-R searches commands backward, etc. Once you get used to
this you will find it extremely convenient. 
<li>Using greater than signs ("<tt>></tt>") can write the standard output 
(things printed on the screen) to a file. 
For example, "<tt>ls -l > dirls.txt</tt>" writes the directory listing to
a file named "<tt>dirls.txt</tt>".
This with less than sign ("<tt><</tt>") and vertical bars ("<tt>|</tt>")
are used in the powerful Linux 
<a href="http://en.wikipedia.org/wiki/Redirection_(computing)#Piping">piping</a>,
which means the output from one process becomes the input of another one. 
<li>Descriptions of some other useful (but a little advanced) commands 
(xargs, find, awk, cut, sort, sed) can be found at 
<a href="http://lh3lh3.users.sourceforge.net/biounix.shtml">here</a>.
</ul>
That's it! I suggest you buy a 
<a href="http://www.thinkgeek.com/tshirts-apparel/xkcd/dabb/">
Linux cheat shirt</a>, which will greatly help memorizing these commands.
<p>


<!--
<hr>
<a name="R"><h3>Introduction to R and BioConductor</h3></a>
<hr>
<a name="ssh"><h3>Setting up a personal R package library on cluster</h3></a>
<hr>
<a name="ess"><h3>Using emacs with ESS</h3></a>
<hr>
<a name="latex"><h3>Introduction to LaTex/Beamer/Sweave</h3></a>
<hr>
<a name="RC"><h3>Writing and debugging C codes in R</h3></a>
<hr>-->

